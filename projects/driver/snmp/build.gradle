
configurations.create("embed")

def snmp4jVersion = "2.3.4"

repositories {
  mavenCentral()
}

dependencies {
  compile project(":openmuc-core-spi")
  compile files("dependencies/snmp4j/snmp4j-" + snmp4jVersion + ".jar")
  embed files("dependencies/snmp4j/snmp4j-" + snmp4jVersion + ".jar")
}

jar {
  manifest {
    name = "OpenMUC SNMP Driver"
    instruction "Bundle-ClassPath", ".,lib/snmp4j-" + snmp4jVersion + ".jar"
    instruction "Import-Package", "!org.snmp4j*,*" + jarDefaultImportPackageVersion
    instruction "Export-Package", ""
  }
}

jar {
  into("lib") {
    from configurations.embed
  }
}
