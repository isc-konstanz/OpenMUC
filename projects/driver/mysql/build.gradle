
def projectName = "OpenMUC Driver - MySQL"

def c3poVersion = '0.9.5.4'
def c3poJar = 'c3p0-'+c3poVersion+'.jar'

def mchangeVersion = '0.2.15'
def mchargeJar = 'mchange-commons-java-'+mchangeVersion+'.jar'

def mysqlVersion = '8.0.17'
def mysqlJar = 'mysql-connector-java-'+mysqlVersion+'.jar'

dependencies {
  implementation project(':openmuc-core-spi')

  implementation group: 'com.mchange', name: 'c3p0', version: c3poVersion
  implementation group: 'com.mchange', name: 'mchange-commons-java', version: mchangeVersion
  implementation group: 'mysql', name: 'mysql-connector-java', version: mysqlVersion
}

jar {
  into('libs') {
    from(configurations.default) {
      include c3poJar, mchargeJar, mysqlJar
    }
  }
  manifest {
    attributes('Bundle-Name':        projectName,
               'Bundle-ClassPath': '.,libs/'+c3poJar +
                                    ',libs/'+mchargeJar +
                                    ',libs/'+mysqlJar,
               'Import-Package':    '!com.mchange.*,' +
                                    '!com.mysql.*,' +
                                    '!com.google.protobuf.*,' +
                                    '!com.typesafe.config.*,' +
                                    '!google.protobuf.*,' +
                                    '!javax.swing.*,' +
                                    '!org.apache.*,' +
                                    '!org.jboss.*,' +
                                    '*' + jarDefaultImportPackageVersion,
               'Export-Package':    '')
  }
}
