<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<configuration>
  <driver id="dlms">
    <name>DLMS/COSEM</name>
    <description><![CDATA[
        DLMS/COSEM is a international standardized protocol used mostly to communicate with 
        smart meter devices. The DLMS/COSEM driver uses the client library developed by the jDLMS project.
        Currently, the DLMS/COSEM driver supports communication via HDLC and TCP/IP using Logical 
        Name Referencing to retrieve values from the device..
      ]]>
    </description>
    
    <deviceAddress>
      <syntax>
        <keyValue assignment="=">true</keyValue>
        <separator>;</separator>
      </syntax>
      <option id="t">
        <name>Connection type</name>
        <description>The connection type used. Currently, the DLMS/COSEM driver supports serial communication and TCP/IP.</description>
        <mandatory>true</mandatory>
        <type>STRING</type>
        <selection>
          <item value="serial">Serial</item>
          <item value="tcp">TCP/IP</item>
        </selection>
      </option>
      <option id="sp">
        <name>Serial Port</name>
        <description><![CDATA[
            <b>Example:</b>
            <ol>
              <li>sp=ttyS0</li>
              <li>sp=COM1</li>
            </ol>
            <br>
            <i>Only used for Serial connection types</i>
          ]]>
        </description>
        <type>STRING</type>
      </option>
      <option id="bd">
        <name>Baud rate</name>
        <description><![CDATA[
            <i>Only used for Serial connection types</i>
          ]]>
        </description>
        <type>INTEGER</type>
        <default>9600</default>
      </option>
      <option id="h">
        <name>Host name</name>
        <description><![CDATA[
            <b>Example:</b>
            <ol>
              <li>h=127.0.0.1</li>
              <li>h=192.168.178.88</li>
            </ol>
            <br>
            <i>Only used for TCP/IP connection types</i>
          ]]>
        </description>
        <type>STRING</type>
      </option>
      <option id="p">
        <name>Port</name>
        <description><![CDATA[
            <i>Only used for TCP/IP connection types</i>
          ]]>
        </description>
        <type>INTEGER</type>
        <default>4059</default>
      </option>
      <option id="hdlc">
        <name>HDLC</name>
        <description><![CDATA[
            Use HDLC (<a href='https://en.wikipedia.org/wiki/High-Level_Data_Link_Control'>High-Level Data Link Control</a>)
          ]]>
        </description>
        <type>BOOLEAN</type>
        <default>false</default>
      </option>
      <option id="d">
        <name>Baud rate change delay</name>
        <description>The baud rate change delay in milliseconds</description>
        <type>INTEGER</type>
        <default>0</default>
      </option>
      <option id="eh">
        <name>Handshake</name>
        <description>Use initial handshake to negotiate baud rate</description>
        <type>BOOLEAN</type>
        <default>false</default>
      </option>
      <option id="iec">
        <name>IEC 21 address</name>
        <type>STRING</type>
      </option>
      <option id="pd">
        <name>Physical Device Address</name>
        <type>INTEGER</type>
        <default>0</default>
      </option>
    </deviceAddress>
    
    <deviceSettings>
      <syntax>
        <keyValue assignment="=">true</keyValue>
        <separator>;</separator>
      </syntax>
      <option id="ld">
        <name>Logical Device Address</name>
        <type>INTEGER</type>
        <default>1</default>
      </option>
      <option id="cid">
        <name>Client ID</name>
        <type>INTEGER</type>
        <default>16</default>
      </option>
      <option id="sn">
        <name>SN referencing</name>
        <type>BOOLEAN</type>
        <default>false</default>
      </option>
      <option id="emech">
        <name>Encryption Mechanism</name>
        <type>INTEGER</type>
        <default>-1</default>
      </option>
      <option id="amech">
        <name>Authentication Mechanism</name>
        <type>INTEGER</type>
        <default>0</default>
      </option>
      <option id="ekey">
        <name>Encryption Key</name>
        <type>BYTE_ARRAY</type>
      </option>
      <option id="akey">
        <name>Authentication Key</name>
        <type>BYTE_ARRAY</type>
      </option>
      <option id="pass">
        <name>Password</name>
        <description>Authorization password to access the smart meter device</description>
        <type>STRING</type>
      </option>
      <option id="cl">
        <name>Challenge Length</name>
        <type>INTEGER</type>
        <default>16</default>
      </option>
      <option id="rt">
        <name>Response Timeout</name>
        <type>INTEGER</type>
        <default>20000</default>
      </option>
      <option id="mid">
        <name>Manufacturer Id</name>
        <type>STRING</type>
        <default>MMM</default>
      </option>
      <option id="did">
        <name>Device Id</name>
        <type>LONG</type>
        <default>1</default>
      </option>
    </deviceSettings>
    
    <channelAddress>
      <syntax>
        <keyValue assignment="=">true</keyValue>
        <separator>;</separator>
      </syntax>
      <option id="a">
        <name>Address</name>
        <description><![CDATA[
            The Address in logical name format <Interface_Class_ID>/<Instance_ID>/<Object_Attribute_ID>.
          ]]>
        </description>
        <mandatory>true</mandatory>
        <type>STRING</type>
      </option>
      <option id="t">
        <name>Data Object Type</name>
        <type>STRING</type>
        <selection>
          <item value="NULL_DATA">Null</item>
          <item value="ARRAY">Array</item>
          <item value="STRUCTURE">Structure</item>
          <item value="BOOLEAN">Bool</item>
          <item value="BIT_STRING">Bit String</item>
          <item value="DOUBLE_LONG">Integer 32</item>
          <item value="DOUBLE_LONG_UNSIGNED">Unsigned integer 32</item>
          <item value="OCTET_STRING">Octet String</item>
          <item value="UTF8_STRING">UTF-8 String</item>
          <item value="VISIBLE_STRING">Visible String</item>
          <item value="BCD">BCD</item>
          <item value="INTEGER">Integer 8</item>
          <item value="LONG_INTEGER">Integer 16</item>
          <item value="UNSIGNED">Unsigned integer 8</item>
          <item value="LONG_UNSIGNED">Unsigned integer 16</item>
          <item value="COMPACT_ARRAY">Compact array</item>
          <item value="LONG64">Integer 64</item>
          <item value="LONG64_UNSIGNED">Unsigned integer 64</item>
          <item value="ENUMERATE">Enum</item>
          <item value="FLOAT32">Float 32</item>
          <item value="FLOAT64">Float 64</item>
          <item value="DATE_TIME">Date Time</item>
          <item value="DATE">Date</item>
          <item value="TIME">Time</item>
          <item value="DONT_CARE">None</item>
        </selection>
      </option>
    </channelAddress>
  </driver>
</configuration>
