<div class="alert alert-sm alert-warning" ng-show="!drivers.length">
  <b class="small">{{'NO_CHANNELS' | translate}}</b>
</div>

<div class="panel-group" data-allow-multiple="true" data-animation="am-fade" bs-collapse>
  <div ng-repeat="driver in drivers">
    <a class="alert alert-primary panel-link-heading" bs-collapse-toggle>
      {{'DRIVER' | translate}} {{driver.id}}
    </a>
    <div class="panel-collapse" bs-collapse-target>
      <div class="panel-body">

        <div class="alert alert-sm alert-warning" ng-show="!driver.devices.length">
          <b class="small">{{'NO_DEVICES' | translate}}</b>
        </div>

        <div ng-repeat="device in driver.devices">
          <div class="well well-sm"><b>{{'DEVICE' | translate}} "{{device.id}}"</b></div>
            
          <div class="alert alert-sm alert-warning" ng-show="!device.channels.length">
            <b class="small">{{'NO_CHANNELS' | translate}}</b>
          </div>
            
          <table class="table table-hover table-fixed" ng-show="device.channels.length">
            <thead>
              <tr>
                 <th>{{'CHANNEL_ID' | translate}}</th>
                 <th>{{'DESCRIPTION' | translate}}</th>
                 <th class="text-right">{{'ACTION' | translate}}</th>
              </tr>
            </thead>
            <tr ng-repeat="channel in device.channels">
              <td>{{channel.id}}</td>
              <td>{{channel.data.description}}</td>
              <td class="text-right">
                <a ui-sref="channelconfigurator.channels.edit({id: channel.id})" class="btn btn-default btn-sm" data-title="{{'EDIT' | translate}}" bs-tooltip>
                  <span class="item-icon fa fa-pencil" aria-hidden="true"></span>
                </a>
                <a ng-click="deleteChannel(channel.id)" class="btn btn-default btn-sm" data-title="{{'DELETE' | translate}}" bs-tooltip>
                  <span class="item-icon fa fa-trash-o" aria-hidden="true"></span>
                </a>
              </td>            
            </tr>
          </table>
            
          <div class="text-right">
            <a ui-sref="channelconfigurator.channels.new({deviceId: device.id})" class="btn btn-primary">{{'ADD_CHANNEL' | translate}}...</a>
          </div>
          <br />
        </div>
      </div>
    </div>
  </div>
</div>